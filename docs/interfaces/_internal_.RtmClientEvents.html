<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>RtmClientEvents | agora-react-uikit</title><meta name="description" content="Documentation for agora-react-uikit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">agora-react-uikit</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">agora-react-uikit</a></li><li><a href="../modules/_internal_.html">&lt;internal&gt;</a></li><li><a href="_internal_.RtmClientEvents.html">RtmClientEvents</a></li></ul><h1>Interface RtmClientEvents</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event listener type of the <a href="../classes/_internal_.RtmClient.html">RtmClient</a> instance.
In this interface, the function property’s name is the event name; the function property’s parameters is the parameters of the event listener function.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><p><strong>Listening to peer-to-peer messages.</strong></p>
<pre><code class="language-JavaScript"><span class="hl-2">client</span><span class="hl-0">.</span><span class="hl-5">on</span><span class="hl-0">(</span><span class="hl-3">&#39;MessageFromPeer&#39;</span><span class="hl-0">, </span><span class="hl-4">function</span><span class="hl-0"> (</span><span class="hl-2">message</span><span class="hl-0">, </span><span class="hl-2">peerId</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-7">// Your code.</span><br/><span class="hl-0">});</span>
</code></pre>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">RtmClientEvents</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section tsd-is-external"><h3>Events</h3><ul class="tsd-index-list"><li class="tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#ConnectionStateChanged" class="tsd-kind-icon">Connection<wbr/>State<wbr/>Changed</a></li><li class="tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#MessageFromPeer" class="tsd-kind-icon">Message<wbr/>From<wbr/>Peer</a></li><li class="tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#RemoteInvitationReceived" class="tsd-kind-icon">Remote<wbr/>Invitation<wbr/>Received</a></li></ul></section><section class="tsd-index-section tsd-is-external"><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#PeersOnlineStatusChanged" class="tsd-kind-icon">Peers<wbr/>Online<wbr/>Status<wbr/>Changed</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#TokenExpired" class="tsd-kind-icon">Token<wbr/>Expired</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group tsd-is-external"><h2>Events</h2><section class="tsd-panel tsd-member tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a id="ConnectionStateChanged" class="tsd-anchor"></a><h3>Connection<wbr/>State<wbr/>Changed</h3><ul class="tsd-signatures tsd-kind-event tsd-parent-kind-interface tsd-is-external"><li class="tsd-signature tsd-kind-icon">Connection<wbr/>State<wbr/>Changed<span class="tsd-signature-symbol">(</span>newState<span class="tsd-signature-symbol">: </span><a href="../modules/_internal_.html" class="tsd-signature-type" data-tsd-kind="Namespace">&lt;internal&gt;</a><span class="tsd-signature-symbol">.</span><a href="../enums/_internal_.ConnectionState.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ConnectionState</a>, reason<span class="tsd-signature-symbol">: </span><a href="../enums/_internal_.ConnectionChangeReason.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ConnectionChangeReason</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/agora-rtm-sdk/index.d.ts:862</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Occurs when the connection state changes between the SDK and the Agora RTM system.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>newState: <a href="../modules/_internal_.html" class="tsd-signature-type" data-tsd-kind="Namespace">&lt;internal&gt;</a><span class="tsd-signature-symbol">.</span><a href="../enums/_internal_.ConnectionState.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ConnectionState</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The new connection state.</p>
</div></div></li><li><h5>reason: <a href="../enums/_internal_.ConnectionChangeReason.html" class="tsd-signature-type" data-tsd-kind="Enumeration">ConnectionChangeReason</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Reasons for the connection state change.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a id="MessageFromPeer" class="tsd-anchor"></a><h3>Message<wbr/>From<wbr/>Peer</h3><ul class="tsd-signatures tsd-kind-event tsd-parent-kind-interface tsd-is-external"><li class="tsd-signature tsd-kind-icon">Message<wbr/>From<wbr/>Peer<span class="tsd-signature-symbol">(</span>message<span class="tsd-signature-symbol">: </span><a href="../modules/_internal_.html#RtmMessage" class="tsd-signature-type" data-tsd-kind="Type alias">RtmMessage</a>, peerId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, messageProps<span class="tsd-signature-symbol">: </span><a href="_internal_.ReceivedMessageProperties.html" class="tsd-signature-type" data-tsd-kind="Interface">ReceivedMessageProperties</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/agora-rtm-sdk/index.d.ts:845</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Occurs when the local user receives a peer-to-peer message from a remote user.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>message: <a href="../modules/_internal_.html#RtmMessage" class="tsd-signature-type" data-tsd-kind="Type alias">RtmMessage</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The received peer-to-peer message object.</p>
</div></div></li><li><h5>peerId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The uid of the sender.</p>
</div></div></li><li><h5>messageProps: <a href="_internal_.ReceivedMessageProperties.html" class="tsd-signature-type" data-tsd-kind="Interface">ReceivedMessageProperties</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The properties of the received message.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a id="RemoteInvitationReceived" class="tsd-anchor"></a><h3>Remote<wbr/>Invitation<wbr/>Received</h3><ul class="tsd-signatures tsd-kind-event tsd-parent-kind-interface tsd-is-external"><li class="tsd-signature tsd-kind-icon">Remote<wbr/>Invitation<wbr/>Received<span class="tsd-signature-symbol">(</span>remoteInvitation<span class="tsd-signature-symbol">: </span><a href="../classes/_internal_.RemoteInvitation.html" class="tsd-signature-type" data-tsd-kind="Class">RemoteInvitation</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/agora-rtm-sdk/index.d.ts:876</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Occurs when the callee receives a call invitation from a remote user (caller).</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>remoteInvitation: <a href="../classes/_internal_.RemoteInvitation.html" class="tsd-signature-type" data-tsd-kind="Class">RemoteInvitation</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A <a href="../classes/_internal_.RemoteInvitation.html">RemoteInvitation</a> object.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-external"><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-external"><a id="PeersOnlineStatusChanged" class="tsd-anchor"></a><h3>Peers<wbr/>Online<wbr/>Status<wbr/>Changed</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-external"><li class="tsd-signature tsd-kind-icon">Peers<wbr/>Online<wbr/>Status<wbr/>Changed<span class="tsd-signature-symbol">(</span>status<span class="tsd-signature-symbol">: </span><a href="_internal_.PeersOnlineStatusMap.html" class="tsd-signature-type" data-tsd-kind="Interface">PeersOnlineStatusMap</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/agora-rtm-sdk/index.d.ts:906</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Occurs when the online status of the peers, to whom you subscribe, changes.</p>
</div><div><ul>
<li>When the subscription to the online status of specified peer(s) succeeds, the SDK returns this callback to report the online status of peers, to whom you subscribe.</li>
<li>When the online status of the peers, to whom you subscribe, changes, the SDK returns this callback to report whose online status has changed.</li>
<li>If the online status of the peers, to whom you subscribe, changes when the SDK is reconnecting to the server, the SDK returns this callback to report whose online status has changed when successfully reconnecting to the server.</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>status: <a href="_internal_.PeersOnlineStatusMap.html" class="tsd-signature-type" data-tsd-kind="Interface">PeersOnlineStatusMap</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-external"><a id="TokenExpired" class="tsd-anchor"></a><h3>Token<wbr/>Expired</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-external"><li class="tsd-signature tsd-kind-icon">Token<wbr/>Expired<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/agora-rtm-sdk/index.d.ts:890</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Occurs when the RTM server detects that the RTM token has exceeded the 24-hour validity period and when the SDK is in the <code>RECONNECTING</code> state.</p>
</div><div><ul>
<li>This callback occurs only when the SDK is reconnecting to the server. You will not receive this callback when the SDK is in the <code>CONNECTED</code> state.</li>
<li>When receiving this callback, generate a new RTM Token on the server and call the <a href="_internal_.IAgoraRTCClient.html#renewToken">renewToken</a> method to pass the new Token on to the server.</li>
</ul>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class="current tsd-kind-namespace"><a href="../modules/_internal_.html">&lt;internal&gt;</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface tsd-parent-kind-namespace tsd-is-external"><a href="_internal_.RtmClientEvents.html" class="tsd-kind-icon">Rtm<wbr/>Client<wbr/>Events</a><ul><li class="tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#ConnectionStateChanged" class="tsd-kind-icon">Connection<wbr/>State<wbr/>Changed</a></li><li class="tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#MessageFromPeer" class="tsd-kind-icon">Message<wbr/>From<wbr/>Peer</a></li><li class="tsd-kind-event tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#RemoteInvitationReceived" class="tsd-kind-icon">Remote<wbr/>Invitation<wbr/>Received</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#PeersOnlineStatusChanged" class="tsd-kind-icon">Peers<wbr/>Online<wbr/>Status<wbr/>Changed</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-is-external"><a href="_internal_.RtmClientEvents.html#TokenExpired" class="tsd-kind-icon">Token<wbr/>Expired</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>